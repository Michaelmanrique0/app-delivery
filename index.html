<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GestiÃ³n de Pedidos - Delivery App</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="container">
  <h1>ğŸšš GestiÃ³n de Pedidos Delivery</h1>

  <div class="section sync-section">
    <h2>ğŸ”„ Sincronizar Datos</h2>
    <div class="sync-buttons">
      <button class="btn-sync" onclick="exportarDatos()">ğŸ“¤ Exportar Datos</button>
      <button class="btn-sync" onclick="importarDatos()">ğŸ“¥ Importar Datos</button>
      <button class="btn-sync" onclick="mostrarQR()">ğŸ“± Mostrar QR</button>
    </div>
    <div class="sync-code-area" id="syncCodeArea" style="display: none;">
      <textarea id="syncData" placeholder="Pega aquÃ­ el cÃ³digo de sincronizaciÃ³n o escanea el QR..."></textarea>
      <button class="btn-primary" onclick="aplicarImportacion()" style="margin-top: 10px; width: 100%;">Aplicar Datos</button>
    </div>
    <div class="qr-container" id="qrContainer" style="display: none;">
      <h3>Escanea este cÃ³digo QR con tu celular:</h3>
      <div id="qrCode"></div>
      <div class="sync-info">
        <strong>Instrucciones:</strong><br>
        1. En el PC: Haz clic en "Exportar Datos"<br>
        2. Copia el cÃ³digo o escanea el QR<br>
        3. En el celular: Pega el cÃ³digo y haz clic en "Aplicar Datos"
      </div>
    </div>
  </div>

  <div class="section">
    <h2>ğŸ“‹ Pegar Formato de Pedido</h2>
    <textarea id="textoPedido" placeholder="Pega aquÃ­ el formato del pedido (incluye el enlace de Maps)..."></textarea>
    <br><br>
    <button class="btn-primary" onclick="procesarPedido()">Procesar Pedido</button>
  </div>

  <div class="section">
    <div class="actions-bar">
      <h2 style="margin: 0; border: none; padding: 0;">ğŸ“¦ Lista de Pedidos</h2>
      <button class="btn-danger" onclick="eliminarTodos()">ğŸ—‘ï¸ Eliminar Todos</button>
    </div>
    <div class="totales-resumen" id="totalesResumen" style="display: none;">
      <div class="total-item total-recogido-dia">
        ğŸ’µ Recogido del dÃ­a: $<span id="totalRecogidoDia">0</span>
      </div>
      <div class="total-item total-pago-domiciliario">
        ğŸï¸ Pago domiciliario: $<span id="totalPagoDomiciliario">0</span>
      </div>
      <div class="total-item total-entregar-tienda">
        ğŸª A entregar a tienda: $<span id="totalEntregarTienda">0</span>
      </div>
    </div>
    <div id="listaPedidos">
      <div class="empty-state" id="emptyState">
        <p>No hay pedidos aÃºn</p>
        <p style="font-size: 14px;">Pega un formato de pedido arriba para comenzar</p>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>ğŸ—ºï¸ Mapa de Entregas</h2>
    <div id="mapa" class="mapa-container"></div>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="app.js"></script>
</body>
</html>
